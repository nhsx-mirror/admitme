(this["webpackJsonpadmitme-react"]=this["webpackJsonpadmitme-react"]||[]).push([[0],{36:function(e,n,t){},62:function(e,n,t){"use strict";t.r(n);var c=t(0),i=t.n(c),r=t(27),a=t.n(r),s=(t(36),t(30)),o=t(4),d=t(3),j={clientId:"Admit-me",nhsRootDomain:"https://auth.sandpit.signin.nhs.uk",scope:"openid profile",responseType:"code",redirectUri:window.location.origin+"/logincallback"},l=t.p+"static/media/LogInWith_Original.5e8690c0.svg",h=t(2),u=function(){var e=function(e,n){var t=e;n=n||[];for(var c=0;c<n.length;c++)t=(t+=0===c?"?":"&")+encodeURIComponent(n[c].key)+"="+encodeURIComponent(n[c].value);return t}(j.nhsRootDomain+"/authorize",[{key:"client_id",value:j.clientId},{key:"scope",value:j.scope},{key:"response_type",value:j.responseType},{key:"redirect_uri",value:j.redirectUri}]);window.location.href=e};function b(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"nhsuk-width-container",children:Object(h.jsx)("main",{className:"nhsuk-main-wrapper",id:"maincontent",role:"main",children:Object(h.jsx)(d.d,{children:Object(h.jsx)(d.i,{children:Object(h.jsxs)(d.c,{width:"two-thirds",children:[Object(h.jsx)(d.g,{isPageHeading:!0,children:"Admit Me"}),Object(h.jsx)(d.h,{children:"A proof of concept QR code generation feature on your NHS app."}),Object(h.jsx)(d.a,{children:"Generate QR code to automatically transfer patient demographic data from the NSH app to clinical systems."}),Object(h.jsx)("button",{id:"log-in-button",onClick:function(){return u()},children:Object(h.jsx)("img",{id:"nhs-login-img",alt:"login",src:l})})]})})})})})})}var p=t(14),O=t.n(p),x=t(28),m=t(17),f=t(29),g=t.n(f),w=function(e){var n=[];return Object.entries(e).forEach((function(e){var t=Object(m.a)(e,2),c=t[0],i=t[1];n.push(Object(h.jsxs)(d.j.Row,{children:[Object(h.jsx)(d.j.Key,{children:c}),Object(h.jsx)(d.j.Value,{children:i})]}))})),Object(h.jsx)(d.j,{children:n})};function v(){var e=Object(c.useState)({loading:"loading"}),n=Object(m.a)(e,2),t=n[0],i=n[1],r=function(){var e=Object(x.a)(O.a.mark((function e(){var n,t,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new URLSearchParams(window.location.search),t=n.get("code")){e.next=4;break}return e.abrupt("return",alert("No code found in query"));case 4:return e.next=6,g.a.post("/userinfo",{code:t,redirectUri:j.redirectUri});case 6:c=e.sent,i(c.data.result);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){r()}),[]),Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"nhsuk-width-container ",children:Object(h.jsx)("main",{className:"nhsuk-main-wrapper ",id:"maincontent",role:"main",children:Object(h.jsx)(d.d,{children:Object(h.jsx)(d.i,{children:Object(h.jsxs)(d.c,{width:"two-thirds",children:[Object(h.jsx)(d.g,{isPageHeading:!0,children:"Appointment details"}),w(t),Object(h.jsx)(d.b,{onClick:function(){window.location.href="/qrcode"},children:"Generate QR code"})]})})})})})})}function k(){return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"nhsuk-width-container",children:Object(h.jsx)("main",{className:"nhsuk-main-wrapper",id:"maincontent",role:"main",children:Object(h.jsx)(d.d,{children:Object(h.jsx)(d.i,{children:Object(h.jsx)(d.c,{width:"two-thirds",children:Object(h.jsx)(d.g,{isPageHeading:!0,children:"QR Code"})})})})})})})}var y=function(){return Object(h.jsxs)(s.a,{children:[Object(h.jsx)(d.f,{transactional:!0,children:Object(h.jsxs)(d.f.Container,{children:[Object(h.jsx)(d.f.Logo,{href:"/"}),Object(h.jsx)(d.f.ServiceName,{href:"/",children:"Admit Me"})]})}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:b}),Object(h.jsx)(o.a,{exact:!0,path:"/logincallback",component:v}),Object(h.jsx)(o.a,{exact:!0,path:"/qrcode",component:k})]}),Object(h.jsxs)(d.e,{children:[Object(h.jsx)(d.e.List,{children:Object(h.jsx)(d.e.ListItem,{href:"/",children:"Admit Me"})}),Object(h.jsx)(d.e.Copyright,{children:"\xa9 Crown copyright"})]})]})};a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.3252d8f5.chunk.js.map